# 한국 로또 번호 생성기

과거 한국 로또 당첨 데이터를 분석하여 이전 당첨 번호 조합을 제외한 새로운 번호 조합을 생성하는 Rust 기반 로또 번호 생성기입니다.

## 주요 기능

- **과거 데이터 분석**: HTML 파일(static/1-600.xls, static/601-1186.xls)에서 로또 데이터 파싱
- **스마트 번호 생성**: 다음을 제외한 6개 번호 조합(1-45) 생성:
  - 과거 1등 당첨 번호 조합
  - 과거 2등 당첨 번호 조합 (당첨번호 5개 + 보너스번호)
- **대화형 CLI**: 메뉴 옵션이 있는 사용자 친화적 명령줄 인터페이스
- **ESC 키 지원**: 회차 입력 중 ESC 키를 눌러 메인 메뉴로 돌아가기
- **데이터 지속성**: `lottery_data.txt`에서 로또 데이터 자동 저장 및 로드
- **신규 회차 입력**: 날짜, 당첨번호, 보너스번호로 새 로또 회차 추가

## 설치

### 사전 요구사항
- Rust (최신 안정 버전)
- Cargo 패키지 매니저

### 소스에서 빌드

1. 저장소 복제:
```bash
git clone <repository-url>
cd lottery
```

2. 프로젝트 빌드:
```bash
cargo build --release
```

3. 애플리케이션 실행:
```bash
cargo run
```

## 사용법

애플리케이션은 세 가지 주요 옵션이 있는 대화형 메뉴를 제공합니다:

### 1. 새로운 로또 번호 생성
- 1-45 사이의 6개 고유 번호 생성
- 과거 모든 1등 당첨 번호 조합 제외
- 과거 모든 2등 당첨 번호 조합 제외
- 플레이를 위한 추천 번호 표시

### 2. 신규 추첨 회차 추가
- 회차 번호 입력 (메인 메뉴로 돌아가는 ESC 지원)
- 추첨 날짜 입력 (형식: YYYY.MM.DD)
- 6개 당첨 번호 입력 (공백으로 구분)
- 보너스 번호 입력
- 데이터 파일에 자동 저장

### 3. 프로그램 종료
- 애플리케이션 안전하게 종료

## 데이터 형식

애플리케이션은 다음 형식의 로또 데이터와 함께 작동합니다:
- **회차**: 순차적 추첨 번호
- **날짜**: 추첨 날짜 (YYYY.MM.DD 형식)
- **당첨 번호**: 1-45 사이의 6개 번호
- **보너스 번호**: 1-45 사이의 단일 보너스 번호

## 파일 구조

```
lottery/
├── src/
│   └── main.rs              # 메인 애플리케이션 코드
├── static/
│   ├── 1-600.xls           # 과거 로또 데이터 (1-600회차)
│   └── 601-1186.xls        # 과거 로또 데이터 (601-1186회차)
├── lottery_data.txt         # 처리된 로또 데이터 (자동 생성)
├── Cargo.toml              # Rust 프로젝트 설정
└── README.md               # 이 파일
```

## 의존성

- `scraper` - 레거시 데이터 파일용 HTML 파싱
- `serde` - 직렬화/역직렬화
- `rand` - 난수 생성
- `encoding_rs` - 한국어 HTML 파일용 EUC-KR 인코딩 지원
- `crossterm` - 터미널 입출력 및 키보드 이벤트 처리

## 기술적 세부사항

### 데이터 처리
- EUC-KR 인코딩으로 HTML 파일 파싱
- 테이블 구조에서 로또 추첨 정보 추출
- 번호 범위 검증 (로또 번호는 1-45)
- 시간순으로 데이터 정렬 및 저장

### 번호 생성 알고리즘
- 암호학적으로 안전한 난수 생성 사용
- O(1) 조회를 위한 사용된 조합의 HashSet 유지
- 고유한 조합을 찾을 때까지 조합 생성
- 1등 (6개 번호)과 2등 (5개 번호 + 보너스) 조합 모두 제외

### 사용자 인터페이스
- ESC 키 감지를 위한 원시 터미널 모드
- 실시간 입력 피드백
- 명확한 메뉴 탐색
- 사용자 친화적 메시지를 통한 오류 처리

## 기여하기

1. 저장소 포크
2. 기능 브랜치 생성 (`git checkout -b feature/amazing-feature`)
3. 변경사항 커밋 (`git commit -m 'Add some amazing feature'`)
4. 브랜치에 푸시 (`git push origin feature/amazing-feature`)
5. Pull Request 열기

## 라이선스

이 프로젝트는 오픈소스이며 MIT 라이선스 하에 제공됩니다.

## 면책조항

이 도구는 오락 목적으로만 사용됩니다. 로또 번호는 무작위이며, 이 생성기는 당첨 결과를 보장하지 않습니다. 책임감 있게 도박하시기 바랍니다.